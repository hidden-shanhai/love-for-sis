<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ç»™å§å§çš„å°å¿ƒæ„ ğŸ’Œ</title>
<style>
  body {
    background-color: #fff8f0;
    overflow: hidden;
    margin: 0;
    font-family: "KaiTi","æ¥·ä½“",sans-serif;
  }
  .popup {
    position: absolute;
    padding: 10px 20px;
    border-radius: 16px;
    font-size: 18px;
    text-align: center;
    color: #333;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.6s ease;
    white-space: nowrap;
  }
  /* è®¡æ•°å™¨æ ·å¼ï¼ˆå›ºå®šå³ä¸‹ï¼‰ */
  #counter {
    position: fixed;
    right: 14px;
    bottom: 12px;
    background: rgba(255,255,255,0.9);
    border-radius: 10px;
    padding: 8px 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.12);
    font-size: 14px;
    color: #444;
    z-index: 9999;
  }
</style>
</head>
<body>
<!-- é¡µé¢å†…å®¹ç”±è„šæœ¬åŠ¨æ€ç”Ÿæˆ -->
<div id="counter">ğŸ‘€ å·²è¢«è®¿é—® <span id="count">...</span> æ¬¡</div>

<script>
// === é…ç½®ï¼ˆè¯·æŠŠä¸‹é¢æ›¿æ¢æˆä½ çš„ GitHub ç”¨æˆ·åå’Œä»“åº“åï¼‰ ===
const GITHUB_USER = "YOUR_GITHUB_USERNAME"; // ä¾‹å¦‚ï¼špengyuyan
const REPO_NAME = "YOUR_REPO_NAME";        // ä¾‹å¦‚ï¼šlove-for-sis
// æ„é€  countapi çš„å‘½åç©ºé—´ä¸ keyï¼ˆåªè¦è‹±æ–‡ã€æ— ç©ºæ ¼ï¼‰ï¼š
const namespace = `${GITHUB_USER}-${REPO_NAME}`;
const key = "visits";

// æ¸©æš–ã€è½»æŸ”çš„å°å¥å­ï¼Œä¸“å±å§å§ ğŸ’•
const quotes = [
  "å§ï¼Œä»Šå¤©ä¹Ÿè¦å¼€å¿ƒå‘€~",
  "ä½ ç¬‘èµ·æ¥çœŸå¥½çœ‹ ğŸŒ¸",
  "è¦è®°å¾—å¤šä¼‘æ¯å“¦~",
  "åˆ«å¤ªç´¯äº†ï¼Œæˆ‘ä¼šå¿ƒç–¼çš„",
  "æœ‰ä½ åœ¨ï¼Œå®¶éƒ½äº®äº†âœ¨",
  "ä¸–ç•Œå› ä¸ºä½ æ›´æ¸©æŸ”",
  "å§å§æœ€æ£’å•¦ ğŸ’ª",
  "ä½ çš„å°å¼Ÿå¾ˆæƒ³ä½ ",
  "å¸Œæœ›æ¯å¤©ä½ éƒ½é¡ºå¿ƒ",
  "é£éƒ½å˜ç”œäº†ï¼Œå› ä¸ºä½ å‘€ ğŸƒ",
  "å§å§ï¼Œæ—©ç‚¹ç¡è§‰å“¦~",
  "æ„¿ä½ æ‰€æœ‰åŠªåŠ›éƒ½æœ‰å›æŠ¥",
  "ä¸€ç›´å–œæ¬¢ä½ çš„æ¸©æŸ”",
  "é˜³å…‰å’Œä½ éƒ½åˆšåˆšå¥½ â˜€ï¸",
  "ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡ ğŸ’—",
  "æˆ‘æ°¸è¿œä¸ºä½ åŠ æ²¹ï¼",
  "ç”Ÿæ´»æœ‰ä½ çœŸå¹¸ç¦",
  "ç¬‘ä¸€ç¬‘ï¼Œä¸€åˆ‡éƒ½ä¼šå¥½ï½",
  "æ„¿ä½ æ¯å¤©éƒ½æœ‰å¥½å¿ƒæƒ… ğŸˆ",
  "å§å§æœ€é—ªäº® âœ¨",
  "æœ‰ç©ºå¤šè”ç³»æˆ‘å‘€ ğŸ§¡",
  "å¸Œæœ›ä½ å¤©å¤©è¢«æ¸©æŸ”åŒ…å›´",
  "ä½ çš„å¾®ç¬‘æ˜¯æˆ‘çš„èƒ½é‡ ğŸ’«",
  "å§å§æ˜¯æˆ‘æ°¸è¿œçš„æ¦œæ ·",
  "æœ‰å§å§çœŸå¥½ï¼"
];

const colors = [
  "#ffb6c1", "#fddde6", "#ffe4b5", "#b0e0e6", "#d8bfd8",
  "#f0e68c", "#e6e6fa", "#faf0e6", "#add8e6", "#ffc0cb"
];

function createPopup() {
  const popup = document.createElement("div");
  popup.className = "popup";
  popup.innerText = quotes[Math.floor(Math.random() * quotes.length)];
  popup.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

  const w = Math.max(window.innerWidth, 300);
  const h = Math.max(window.innerHeight, 200);
  const x = Math.random() * (w - 160);
  const y = Math.random() * (h - 60);
  popup.style.left = x + "px";
  popup.style.top = y + "px";
  popup.style.zIndex = 9998;

  document.body.appendChild(popup);
  // åŠ¨ç”»å…¥åœº
  setTimeout(() => {
    popup.style.opacity = 1;
    popup.style.transform = "scale(1)";
  }, 100);

  return popup;
}

// æ¯ 0.2 ç§’å¼¹å‡ºä¸€ä¸ªï¼Œæ€»å…± 30 ä¸ªï¼ˆä½ å¯ä¿®æ”¹ totalï¼‰
let countPop = 0;
const total = 65;
const intervalMs = 50;
const popTimer = setInterval(() => {
  createPopup();
  countPop++;
  if (countPop >= total) clearInterval(popTimer);
}, intervalMs);

// ========== countapi è®¡æ•°é€»è¾‘ ==========
// ä½¿ç”¨ countapi çš„ hit æ¥å£ï¼Œæ¯æ¬¡é¡µé¢æ‰“å¼€ä¼š +1ï¼Œå¹¶è¿”å›å½“å‰å€¼ã€‚
// endpoint: https://api.countapi.xyz/hit/{namespace}/{key}
function hitCountApi() {
  const url = `https://api.countapi.xyz/hit/${encodeURIComponent(namespace)}/${encodeURIComponent(key)}`;
  fetch(url)
    .then(res => res.json())
    .then(data => {
      if (data && typeof data.value !== "undefined") {
        document.getElementById("count").innerText = data.value;
      } else {
        document.getElementById("count").innerText = "â€”";
      }
    })
    .catch(err => {
      console.warn("countapi è¯·æ±‚å¤±è´¥ï¼š", err);
      document.getElementById("count").innerText = "â€”";
    });
}

// é¡µé¢åŠ è½½æ—¶è°ƒç”¨ä¸€æ¬¡ï¼ˆè®¿é—®è®¡æ•°ï¼‰
hitCountApi();

// å¯é€‰ï¼šæ¯éš”ä¸€æ®µæ—¶é—´åˆ·æ–°æœ€æ–°å€¼ï¼ˆä¸å† +1ï¼‰ï¼Œç”¨ get æ¥å£ï¼š
// GET https://api.countapi.xyz/get/{namespace}/{key}
// ä¸‹é¢ç¤ºä¾‹æ¯ 60 ç§’åˆ·æ–°ä¸€æ¬¡æ˜¾ç¤ºï¼ˆä¸ä¼šå¢åŠ è®¡æ•°ï¼‰
function refreshCountDisplay() {
  const url = `https://api.countapi.xyz/get/${encodeURIComponent(namespace)}/${encodeURIComponent(key)}`;
  fetch(url)
    .then(res => res.json())
    .then(data => {
      if (data && typeof data.value !== "undefined") {
        document.getElementById("count").innerText = data.value;
      }
    })
    .catch(() => {});
}
setInterval(refreshCountDisplay, 60 * 1000);
</script>
</body>
</html>
